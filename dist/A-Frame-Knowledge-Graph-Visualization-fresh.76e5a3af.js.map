{"mappings":"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","sources":["<anon>","src/components/vr-controls.js"],"sourcesContent":["/**\r\n * VR Controls Component for A-Frame\r\n * Provides enhanced VR interaction: gaze cursor, teleportation, comfort options\r\n */ /* global AFRAME, THREE */ /**\r\n * Gaze Cursor Component\r\n * Provides hands-free interaction via gaze with dwell time\r\n */ AFRAME.registerComponent('gaze-cursor', {\n    schema: {\n        fuseTimeout: {\n            type: 'number',\n            default: 1500\n        },\n        cursorColor: {\n            type: 'color',\n            default: '#8ACAE5'\n        },\n        cursorColorHover: {\n            type: 'color',\n            default: '#046de7'\n        },\n        cursorScale: {\n            type: 'number',\n            default: 0.02\n        },\n        distance: {\n            type: 'number',\n            default: 2\n        }\n    },\n    init: function() {\n        this.isHovering = false;\n        this.hoverStartTime = 0;\n        this.hoverTarget = null;\n        this.fuseProgress = 0;\n        this.isVRMode = false; // Only active in VR mode\n        // Create cursor geometry\n        this.createCursor();\n        // Bind handlers\n        this.onIntersection = this.onIntersection.bind(this);\n        this.onIntersectionCleared = this.onIntersectionCleared.bind(this);\n        this.onEnterVR = this.onEnterVR.bind(this);\n        this.onExitVR = this.onExitVR.bind(this);\n        // Listen for raycaster events\n        this.el.addEventListener('raycaster-intersection', this.onIntersection);\n        this.el.addEventListener('raycaster-intersection-cleared', this.onIntersectionCleared);\n        // Listen for VR mode changes\n        this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\n        this.el.sceneEl.addEventListener('exit-vr', this.onExitVR);\n    },\n    onEnterVR: function() {\n        this.isVRMode = true;\n        this.el.setAttribute('visible', true);\n    },\n    onExitVR: function() {\n        this.isVRMode = false;\n        this.el.setAttribute('visible', false);\n        // Reset any ongoing hover\n        if (this.hoverTarget) this.onIntersectionCleared();\n    },\n    createCursor: function() {\n        // Outer ring (progress indicator)\n        this.progressRing = document.createElement('a-ring');\n        this.progressRing.setAttribute('radius-inner', this.data.cursorScale * 0.6);\n        this.progressRing.setAttribute('radius-outer', this.data.cursorScale);\n        this.progressRing.setAttribute('color', this.data.cursorColor);\n        this.progressRing.setAttribute('opacity', 0.8);\n        this.progressRing.setAttribute('theta-length', 0);\n        this.progressRing.setAttribute('position', `0 0 -${this.data.distance}`);\n        this.progressRing.setAttribute('material', 'shader: flat; side: double');\n        this.el.appendChild(this.progressRing);\n        // Center dot\n        this.centerDot = document.createElement('a-circle');\n        this.centerDot.setAttribute('radius', this.data.cursorScale * 0.3);\n        this.centerDot.setAttribute('color', this.data.cursorColor);\n        this.centerDot.setAttribute('position', `0 0 -${this.data.distance}`);\n        this.centerDot.setAttribute('material', 'shader: flat; side: double');\n        this.el.appendChild(this.centerDot);\n    },\n    onIntersection: function(evt) {\n        // Only process in VR mode\n        if (!this.isVRMode) return;\n        const intersectedEl = evt.detail.els[0];\n        if (!intersectedEl || !intersectedEl.classList.contains('graph-node')) return;\n        if (this.hoverTarget !== intersectedEl) {\n            this.hoverTarget = intersectedEl;\n            this.hoverStartTime = Date.now();\n            this.isHovering = true;\n            // Change cursor color\n            this.centerDot.setAttribute('color', this.data.cursorColorHover);\n            this.progressRing.setAttribute('color', this.data.cursorColorHover);\n            // Emit hover event\n            intersectedEl.emit('mouseenter');\n        }\n    },\n    onIntersectionCleared: function(evt) {\n        if (this.hoverTarget) this.hoverTarget.emit('mouseleave');\n        this.isHovering = false;\n        this.hoverTarget = null;\n        this.fuseProgress = 0;\n        // Reset cursor\n        this.centerDot.setAttribute('color', this.data.cursorColor);\n        this.progressRing.setAttribute('color', this.data.cursorColor);\n        this.progressRing.setAttribute('theta-length', 0);\n    },\n    tick: function() {\n        // Only process in VR mode\n        if (!this.isVRMode || !this.isHovering || !this.hoverTarget) return;\n        const elapsed = Date.now() - this.hoverStartTime;\n        this.fuseProgress = Math.min(elapsed / this.data.fuseTimeout, 1);\n        // Update progress ring\n        this.progressRing.setAttribute('theta-length', this.fuseProgress * 360);\n        // Trigger click when fuse completes\n        if (this.fuseProgress >= 1) {\n            this.hoverTarget.emit('click');\n            // Reset fuse\n            this.hoverStartTime = Date.now();\n            this.fuseProgress = 0;\n            this.progressRing.setAttribute('theta-length', 0);\n            // Visual feedback - pulse\n            this.centerDot.setAttribute('scale', '1.5 1.5 1.5');\n            setTimeout(()=>{\n                this.centerDot.setAttribute('scale', '1 1 1');\n            }, 200);\n        }\n    },\n    remove: function() {\n        this.el.removeEventListener('raycaster-intersection', this.onIntersection);\n        this.el.removeEventListener('raycaster-intersection-cleared', this.onIntersectionCleared);\n        this.el.sceneEl.removeEventListener('enter-vr', this.onEnterVR);\n        this.el.sceneEl.removeEventListener('exit-vr', this.onExitVR);\n    }\n});\n/**\r\n * Simple Teleport Component\r\n * Click on floor/ground to teleport\r\n */ AFRAME.registerComponent('teleport-controls', {\n    schema: {\n        cameraRig: {\n            type: 'selector',\n            default: '#cameraRig'\n        },\n        button: {\n            type: 'string',\n            default: 'trigger'\n        },\n        enabled: {\n            type: 'boolean',\n            default: true\n        }\n    },\n    init: function() {\n        this.isAiming = false;\n        this.targetPosition = new THREE.Vector3();\n        // Create teleport marker\n        this.createMarker();\n        // Bind handlers\n        this.onButtonDown = this.onButtonDown.bind(this);\n        this.onButtonUp = this.onButtonUp.bind(this);\n        // Listen for controller events\n        this.el.addEventListener('triggerdown', this.onButtonDown);\n        this.el.addEventListener('triggerup', this.onButtonUp);\n        this.el.addEventListener('gripdown', this.onButtonDown);\n        this.el.addEventListener('gripup', this.onButtonUp);\n    },\n    createMarker: function() {\n        this.marker = document.createElement('a-entity');\n        // Ring on ground\n        const ring = document.createElement('a-ring');\n        ring.setAttribute('radius-inner', 0.4);\n        ring.setAttribute('radius-outer', 0.5);\n        ring.setAttribute('color', '#8ACAE5');\n        ring.setAttribute('rotation', '-90 0 0');\n        ring.setAttribute('material', 'shader: flat; opacity: 0.8');\n        this.marker.appendChild(ring);\n        // Center circle\n        const center = document.createElement('a-circle');\n        center.setAttribute('radius', 0.3);\n        center.setAttribute('color', '#8ACAE5');\n        center.setAttribute('rotation', '-90 0 0');\n        center.setAttribute('material', 'shader: flat; opacity: 0.5');\n        this.marker.appendChild(center);\n        this.marker.setAttribute('visible', false);\n        this.el.sceneEl.appendChild(this.marker);\n    },\n    onButtonDown: function(evt) {\n        if (!this.data.enabled) return;\n        this.isAiming = true;\n    },\n    onButtonUp: function(evt) {\n        if (!this.data.enabled || !this.isAiming) return;\n        this.isAiming = false;\n        this.marker.setAttribute('visible', false);\n        // Perform teleport\n        if (this.data.cameraRig && this.targetPosition) {\n            const rig = this.data.cameraRig;\n            rig.setAttribute('position', {\n                x: this.targetPosition.x,\n                y: rig.getAttribute('position').y,\n                z: this.targetPosition.z\n            });\n        }\n    },\n    tick: function() {\n        if (!this.isAiming) return;\n        // Raycast to find teleport position\n        const raycaster = this.el.components.raycaster;\n        if (!raycaster) return;\n        const intersections = raycaster.intersections;\n        if (intersections.length > 0) // Find a valid teleport surface (floor, ground, or open space)\n        for(let i = 0; i < intersections.length; i++){\n            const intersection = intersections[i];\n            // Use the intersection point\n            this.targetPosition.copy(intersection.point);\n            this.marker.setAttribute('position', this.targetPosition);\n            this.marker.setAttribute('visible', true);\n            break;\n        }\n    },\n    remove: function() {\n        this.el.removeEventListener('triggerdown', this.onButtonDown);\n        this.el.removeEventListener('triggerup', this.onButtonUp);\n        if (this.marker && this.marker.parentNode) this.marker.parentNode.removeChild(this.marker);\n    }\n});\n/**\r\n * VR Mode Handler\r\n * Adjusts controls and UI based on VR vs desktop mode\r\n */ AFRAME.registerComponent('vr-mode-handler', {\n    init: function() {\n        this.onEnterVR = this.onEnterVR.bind(this);\n        this.onExitVR = this.onExitVR.bind(this);\n        this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\n        this.el.sceneEl.addEventListener('exit-vr', this.onExitVR);\n    },\n    onEnterVR: function() {\n        console.log('[VRModeHandler] Entered VR mode');\n        // Enable gaze cursor if no controllers detected\n        const gazeCursor = document.querySelector('[gaze-cursor]');\n        if (gazeCursor) gazeCursor.setAttribute('gaze-cursor', 'fuseTimeout', 1500);\n        // Disable WASD in VR (use controllers instead)\n        const camera = document.querySelector('[wasd-controls]');\n        if (camera) camera.setAttribute('wasd-controls', 'enabled', false);\n        // Scale up info panel for VR readability\n        const infoPanel = document.querySelector('#info-panel');\n        if (infoPanel) infoPanel.setAttribute('scale', '1.5 1.5 1.5');\n    },\n    onExitVR: function() {\n        console.log('[VRModeHandler] Exited VR mode');\n        // Re-enable WASD for desktop\n        const camera = document.querySelector('[wasd-controls]');\n        if (camera) camera.setAttribute('wasd-controls', 'enabled', true);\n        // Reset info panel scale\n        const infoPanel = document.querySelector('#info-panel');\n        if (infoPanel) infoPanel.setAttribute('scale', '1 1 1');\n    },\n    remove: function() {\n        this.el.sceneEl.removeEventListener('enter-vr', this.onEnterVR);\n        this.el.sceneEl.removeEventListener('exit-vr', this.onExitVR);\n    }\n});\n/**\r\n * Comfort Vignette Component\r\n * Reduces motion sickness by adding vignette during movement\r\n */ AFRAME.registerComponent('comfort-vignette', {\n    schema: {\n        enabled: {\n            type: 'boolean',\n            default: true\n        },\n        intensity: {\n            type: 'number',\n            default: 0.5\n        }\n    },\n    init: function() {\n        if (!this.data.enabled) return;\n        // Create vignette overlay\n        this.vignette = document.createElement('a-entity');\n        this.vignette.setAttribute('geometry', {\n            primitive: 'ring',\n            radiusInner: 0.3,\n            radiusOuter: 0.6\n        });\n        this.vignette.setAttribute('material', {\n            color: 'black',\n            shader: 'flat',\n            opacity: 0,\n            transparent: true,\n            side: 'double'\n        });\n        this.vignette.setAttribute('position', '0 0 -0.5');\n        this.el.appendChild(this.vignette);\n        this.lastPosition = new THREE.Vector3();\n        this.isMoving = false;\n    },\n    tick: function() {\n        if (!this.data.enabled || !this.vignette) return;\n        const position = this.el.object3D.position;\n        const moved = position.distanceTo(this.lastPosition) > 0.01;\n        if (moved && !this.isMoving) {\n            // Started moving - fade in vignette\n            this.isMoving = true;\n            this.vignette.setAttribute('material', 'opacity', this.data.intensity);\n        } else if (!moved && this.isMoving) {\n            // Stopped moving - fade out vignette\n            this.isMoving = false;\n            this.vignette.setAttribute('material', 'opacity', 0);\n        }\n        this.lastPosition.copy(position);\n    }\n});\nconsole.log('[VRControls] Components registered: gaze-cursor, teleport-controls, vr-mode-handler, comfort-vignette');\n\n//# sourceMappingURL=A-Frame-Knowledge-Graph-Visualization-fresh.76e5a3af.js.map\n","/**\r\n * VR Controls Component for A-Frame\r\n * Provides enhanced VR interaction: gaze cursor, teleportation, comfort options\r\n */\r\n\r\n/* global AFRAME, THREE */\r\n\r\n/**\r\n * Gaze Cursor Component\r\n * Provides hands-free interaction via gaze with dwell time\r\n */\r\nAFRAME.registerComponent('gaze-cursor', {\r\n    schema: {\r\n        fuseTimeout: { type: 'number', default: 1500 },  // Time to trigger click (ms)\r\n        cursorColor: { type: 'color', default: '#8ACAE5' },\r\n        cursorColorHover: { type: 'color', default: '#046de7' },\r\n        cursorScale: { type: 'number', default: 0.02 },\r\n        distance: { type: 'number', default: 2 }\r\n    },\r\n\r\n    init: function () {\r\n        this.isHovering = false;\r\n        this.hoverStartTime = 0;\r\n        this.hoverTarget = null;\r\n        this.fuseProgress = 0;\r\n        this.isVRMode = false;  // Only active in VR mode\r\n\r\n        // Create cursor geometry\r\n        this.createCursor();\r\n\r\n        // Bind handlers\r\n        this.onIntersection = this.onIntersection.bind(this);\r\n        this.onIntersectionCleared = this.onIntersectionCleared.bind(this);\r\n        this.onEnterVR = this.onEnterVR.bind(this);\r\n        this.onExitVR = this.onExitVR.bind(this);\r\n\r\n        // Listen for raycaster events\r\n        this.el.addEventListener('raycaster-intersection', this.onIntersection);\r\n        this.el.addEventListener('raycaster-intersection-cleared', this.onIntersectionCleared);\r\n\r\n        // Listen for VR mode changes\r\n        this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\r\n        this.el.sceneEl.addEventListener('exit-vr', this.onExitVR);\r\n    },\r\n\r\n    onEnterVR: function () {\r\n        this.isVRMode = true;\r\n        this.el.setAttribute('visible', true);\r\n    },\r\n\r\n    onExitVR: function () {\r\n        this.isVRMode = false;\r\n        this.el.setAttribute('visible', false);\r\n        // Reset any ongoing hover\r\n        if (this.hoverTarget) {\r\n            this.onIntersectionCleared();\r\n        }\r\n    },\r\n\r\n    createCursor: function () {\r\n        // Outer ring (progress indicator)\r\n        this.progressRing = document.createElement('a-ring');\r\n        this.progressRing.setAttribute('radius-inner', this.data.cursorScale * 0.6);\r\n        this.progressRing.setAttribute('radius-outer', this.data.cursorScale);\r\n        this.progressRing.setAttribute('color', this.data.cursorColor);\r\n        this.progressRing.setAttribute('opacity', 0.8);\r\n        this.progressRing.setAttribute('theta-length', 0);\r\n        this.progressRing.setAttribute('position', `0 0 -${this.data.distance}`);\r\n        this.progressRing.setAttribute('material', 'shader: flat; side: double');\r\n        this.el.appendChild(this.progressRing);\r\n\r\n        // Center dot\r\n        this.centerDot = document.createElement('a-circle');\r\n        this.centerDot.setAttribute('radius', this.data.cursorScale * 0.3);\r\n        this.centerDot.setAttribute('color', this.data.cursorColor);\r\n        this.centerDot.setAttribute('position', `0 0 -${this.data.distance}`);\r\n        this.centerDot.setAttribute('material', 'shader: flat; side: double');\r\n        this.el.appendChild(this.centerDot);\r\n    },\r\n\r\n    onIntersection: function (evt) {\r\n        // Only process in VR mode\r\n        if (!this.isVRMode) return;\r\n\r\n        const intersectedEl = evt.detail.els[0];\r\n        if (!intersectedEl || !intersectedEl.classList.contains('graph-node')) return;\r\n\r\n        if (this.hoverTarget !== intersectedEl) {\r\n            this.hoverTarget = intersectedEl;\r\n            this.hoverStartTime = Date.now();\r\n            this.isHovering = true;\r\n\r\n            // Change cursor color\r\n            this.centerDot.setAttribute('color', this.data.cursorColorHover);\r\n            this.progressRing.setAttribute('color', this.data.cursorColorHover);\r\n\r\n            // Emit hover event\r\n            intersectedEl.emit('mouseenter');\r\n        }\r\n    },\r\n\r\n    onIntersectionCleared: function (evt) {\r\n        if (this.hoverTarget) {\r\n            this.hoverTarget.emit('mouseleave');\r\n        }\r\n\r\n        this.isHovering = false;\r\n        this.hoverTarget = null;\r\n        this.fuseProgress = 0;\r\n\r\n        // Reset cursor\r\n        this.centerDot.setAttribute('color', this.data.cursorColor);\r\n        this.progressRing.setAttribute('color', this.data.cursorColor);\r\n        this.progressRing.setAttribute('theta-length', 0);\r\n    },\r\n\r\n    tick: function () {\r\n        // Only process in VR mode\r\n        if (!this.isVRMode || !this.isHovering || !this.hoverTarget) return;\r\n\r\n        const elapsed = Date.now() - this.hoverStartTime;\r\n        this.fuseProgress = Math.min(elapsed / this.data.fuseTimeout, 1);\r\n\r\n        // Update progress ring\r\n        this.progressRing.setAttribute('theta-length', this.fuseProgress * 360);\r\n\r\n        // Trigger click when fuse completes\r\n        if (this.fuseProgress >= 1) {\r\n            this.hoverTarget.emit('click');\r\n\r\n            // Reset fuse\r\n            this.hoverStartTime = Date.now();\r\n            this.fuseProgress = 0;\r\n            this.progressRing.setAttribute('theta-length', 0);\r\n\r\n            // Visual feedback - pulse\r\n            this.centerDot.setAttribute('scale', '1.5 1.5 1.5');\r\n            setTimeout(() => {\r\n                this.centerDot.setAttribute('scale', '1 1 1');\r\n            }, 200);\r\n        }\r\n    },\r\n\r\n    remove: function () {\r\n        this.el.removeEventListener('raycaster-intersection', this.onIntersection);\r\n        this.el.removeEventListener('raycaster-intersection-cleared', this.onIntersectionCleared);\r\n        this.el.sceneEl.removeEventListener('enter-vr', this.onEnterVR);\r\n        this.el.sceneEl.removeEventListener('exit-vr', this.onExitVR);\r\n    }\r\n});\r\n\r\n\r\n/**\r\n * Simple Teleport Component\r\n * Click on floor/ground to teleport\r\n */\r\nAFRAME.registerComponent('teleport-controls', {\r\n    schema: {\r\n        cameraRig: { type: 'selector', default: '#cameraRig' },\r\n        button: { type: 'string', default: 'trigger' },\r\n        enabled: { type: 'boolean', default: true }\r\n    },\r\n\r\n    init: function () {\r\n        this.isAiming = false;\r\n        this.targetPosition = new THREE.Vector3();\r\n\r\n        // Create teleport marker\r\n        this.createMarker();\r\n\r\n        // Bind handlers\r\n        this.onButtonDown = this.onButtonDown.bind(this);\r\n        this.onButtonUp = this.onButtonUp.bind(this);\r\n\r\n        // Listen for controller events\r\n        this.el.addEventListener('triggerdown', this.onButtonDown);\r\n        this.el.addEventListener('triggerup', this.onButtonUp);\r\n        this.el.addEventListener('gripdown', this.onButtonDown);\r\n        this.el.addEventListener('gripup', this.onButtonUp);\r\n    },\r\n\r\n    createMarker: function () {\r\n        this.marker = document.createElement('a-entity');\r\n\r\n        // Ring on ground\r\n        const ring = document.createElement('a-ring');\r\n        ring.setAttribute('radius-inner', 0.4);\r\n        ring.setAttribute('radius-outer', 0.5);\r\n        ring.setAttribute('color', '#8ACAE5');\r\n        ring.setAttribute('rotation', '-90 0 0');\r\n        ring.setAttribute('material', 'shader: flat; opacity: 0.8');\r\n        this.marker.appendChild(ring);\r\n\r\n        // Center circle\r\n        const center = document.createElement('a-circle');\r\n        center.setAttribute('radius', 0.3);\r\n        center.setAttribute('color', '#8ACAE5');\r\n        center.setAttribute('rotation', '-90 0 0');\r\n        center.setAttribute('material', 'shader: flat; opacity: 0.5');\r\n        this.marker.appendChild(center);\r\n\r\n        this.marker.setAttribute('visible', false);\r\n        this.el.sceneEl.appendChild(this.marker);\r\n    },\r\n\r\n    onButtonDown: function (evt) {\r\n        if (!this.data.enabled) return;\r\n        this.isAiming = true;\r\n    },\r\n\r\n    onButtonUp: function (evt) {\r\n        if (!this.data.enabled || !this.isAiming) return;\r\n        this.isAiming = false;\r\n        this.marker.setAttribute('visible', false);\r\n\r\n        // Perform teleport\r\n        if (this.data.cameraRig && this.targetPosition) {\r\n            const rig = this.data.cameraRig;\r\n            rig.setAttribute('position', {\r\n                x: this.targetPosition.x,\r\n                y: rig.getAttribute('position').y,  // Keep same height\r\n                z: this.targetPosition.z\r\n            });\r\n        }\r\n    },\r\n\r\n    tick: function () {\r\n        if (!this.isAiming) return;\r\n\r\n        // Raycast to find teleport position\r\n        const raycaster = this.el.components.raycaster;\r\n        if (!raycaster) return;\r\n\r\n        const intersections = raycaster.intersections;\r\n        if (intersections.length > 0) {\r\n            // Find a valid teleport surface (floor, ground, or open space)\r\n            for (let i = 0; i < intersections.length; i++) {\r\n                const intersection = intersections[i];\r\n\r\n                // Use the intersection point\r\n                this.targetPosition.copy(intersection.point);\r\n                this.marker.setAttribute('position', this.targetPosition);\r\n                this.marker.setAttribute('visible', true);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    remove: function () {\r\n        this.el.removeEventListener('triggerdown', this.onButtonDown);\r\n        this.el.removeEventListener('triggerup', this.onButtonUp);\r\n        if (this.marker && this.marker.parentNode) {\r\n            this.marker.parentNode.removeChild(this.marker);\r\n        }\r\n    }\r\n});\r\n\r\n\r\n/**\r\n * VR Mode Handler\r\n * Adjusts controls and UI based on VR vs desktop mode\r\n */\r\nAFRAME.registerComponent('vr-mode-handler', {\r\n    init: function () {\r\n        this.onEnterVR = this.onEnterVR.bind(this);\r\n        this.onExitVR = this.onExitVR.bind(this);\r\n\r\n        this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\r\n        this.el.sceneEl.addEventListener('exit-vr', this.onExitVR);\r\n    },\r\n\r\n    onEnterVR: function () {\r\n        console.log('[VRModeHandler] Entered VR mode');\r\n\r\n        // Enable gaze cursor if no controllers detected\r\n        const gazeCursor = document.querySelector('[gaze-cursor]');\r\n        if (gazeCursor) {\r\n            gazeCursor.setAttribute('gaze-cursor', 'fuseTimeout', 1500);\r\n        }\r\n\r\n        // Disable WASD in VR (use controllers instead)\r\n        const camera = document.querySelector('[wasd-controls]');\r\n        if (camera) {\r\n            camera.setAttribute('wasd-controls', 'enabled', false);\r\n        }\r\n\r\n        // Scale up info panel for VR readability\r\n        const infoPanel = document.querySelector('#info-panel');\r\n        if (infoPanel) {\r\n            infoPanel.setAttribute('scale', '1.5 1.5 1.5');\r\n        }\r\n    },\r\n\r\n    onExitVR: function () {\r\n        console.log('[VRModeHandler] Exited VR mode');\r\n\r\n        // Re-enable WASD for desktop\r\n        const camera = document.querySelector('[wasd-controls]');\r\n        if (camera) {\r\n            camera.setAttribute('wasd-controls', 'enabled', true);\r\n        }\r\n\r\n        // Reset info panel scale\r\n        const infoPanel = document.querySelector('#info-panel');\r\n        if (infoPanel) {\r\n            infoPanel.setAttribute('scale', '1 1 1');\r\n        }\r\n    },\r\n\r\n    remove: function () {\r\n        this.el.sceneEl.removeEventListener('enter-vr', this.onEnterVR);\r\n        this.el.sceneEl.removeEventListener('exit-vr', this.onExitVR);\r\n    }\r\n});\r\n\r\n\r\n/**\r\n * Comfort Vignette Component\r\n * Reduces motion sickness by adding vignette during movement\r\n */\r\nAFRAME.registerComponent('comfort-vignette', {\r\n    schema: {\r\n        enabled: { type: 'boolean', default: true },\r\n        intensity: { type: 'number', default: 0.5 }\r\n    },\r\n\r\n    init: function () {\r\n        if (!this.data.enabled) return;\r\n\r\n        // Create vignette overlay\r\n        this.vignette = document.createElement('a-entity');\r\n        this.vignette.setAttribute('geometry', {\r\n            primitive: 'ring',\r\n            radiusInner: 0.3,\r\n            radiusOuter: 0.6\r\n        });\r\n        this.vignette.setAttribute('material', {\r\n            color: 'black',\r\n            shader: 'flat',\r\n            opacity: 0,\r\n            transparent: true,\r\n            side: 'double'\r\n        });\r\n        this.vignette.setAttribute('position', '0 0 -0.5');\r\n        this.el.appendChild(this.vignette);\r\n\r\n        this.lastPosition = new THREE.Vector3();\r\n        this.isMoving = false;\r\n    },\r\n\r\n    tick: function () {\r\n        if (!this.data.enabled || !this.vignette) return;\r\n\r\n        const position = this.el.object3D.position;\r\n        const moved = position.distanceTo(this.lastPosition) > 0.01;\r\n\r\n        if (moved && !this.isMoving) {\r\n            // Started moving - fade in vignette\r\n            this.isMoving = true;\r\n            this.vignette.setAttribute('material', 'opacity', this.data.intensity);\r\n        } else if (!moved && this.isMoving) {\r\n            // Stopped moving - fade out vignette\r\n            this.isMoving = false;\r\n            this.vignette.setAttribute('material', 'opacity', 0);\r\n        }\r\n\r\n        this.lastPosition.copy(position);\r\n    }\r\n});\r\n\r\nconsole.log('[VRControls] Components registered: gaze-cursor, teleport-controls, vr-mode-handler, comfort-vignette');\r\n"],"names":["AFRAME","registerComponent","schema","fuseTimeout","type","default","cursorColor","cursorColorHover","cursorScale","distance","init","isHovering","hoverStartTime","hoverTarget","fuseProgress","isVRMode","createCursor","onIntersection","bind","onIntersectionCleared","onEnterVR","onExitVR","el","addEventListener","sceneEl","setAttribute","progressRing","document","createElement","data","appendChild","centerDot","evt","intersectedEl","detail","els","classList","contains","Date","now","emit","tick","elapsed","Math","min","setTimeout","remove","removeEventListener","cameraRig","button","enabled","isAiming","targetPosition","THREE","Vector3","createMarker","onButtonDown","onButtonUp","marker","ring","center","rig","x","y","getAttribute","z","raycaster","components","intersections","length","i","intersection","copy","point","parentNode","removeChild","console","log","gazeCursor","querySelector","camera","infoPanel","intensity","vignette","primitive","radiusInner","radiusOuter","color","shader","opacity","transparent","side","lastPosition","isMoving","position","object3D","moved","distanceTo"],"version":3,"file":"A-Frame-Knowledge-Graph-Visualization-fresh.76e5a3af.js.map"}